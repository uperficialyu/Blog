## 深拷贝

#### 1.基本数据类型

在JS中，数据类型分为基本数据类型和引用数据类型两种。对于基本数据类型来说，它的值直接存储在栈内存中，而对于引用类型来说，它在栈内存中仅仅存储了一个引用，而真正的数据存储在堆内存中。

	var a = 10;
	var b = a;
	b = 5;
	console.log(a); // 10
	console.log(b); // 5

可以看到的是对于基本类型来说，我们将一个基本类型的值赋予a变量，接着将a的值赋予变量b；然后我们修改b；可以看到b被修改了，而a的值没有被修改，两个变量都使用的是独立的数据；

#### 2.引用数据类型

	var obj1 = {
		a:  1,
		b:  2,
		c:  3
	}
	var obj2 = obj1;
	obj2.a = 5;
	console.log(obj1.a);  // 5
	console.log(obj2.a);  // 5

	var arr1 = [1, 2, 3, 4];
	var arr2 = arr1;
	arr2[0] = 3;
	console.log(arr2); // [3,2,3,4]

可以看到的是，两个对象，还有数组的值全部被修改了。

对象和数组都是引用类型的值，对于引用类型来说，我们将obj1赋予obj2的时候，我们其实仅仅只是将obj1存储在栈堆中的的引用赋予了obj2，而两个对象此时指向的是在堆内存中的同一个数据，所以当我们修改任意一个值的时候，修改的都是堆内存中的数据，而不是引用，所以只要修改了，同样引用的对象的值也自然而然的发生了改变。

#### 3.什么是浅拷贝

对于浅拷贝而言，就是只拷贝对象的引用，而不深层次的拷贝对象的值，多个对象指向堆内存中的同一对象，任何一个修改都会使得所有对象的值修改，因为它们公用一条数据。

#### 4.什么是深拷贝

深拷贝不会拷贝引用类型的引用，而是将引用类型的值全部拷贝一份，形成一个新的引用类型，这样就不会发生引用错乱的问题，使得我们可以多次使用同样的数据，而不用担心数据之间会起冲突。