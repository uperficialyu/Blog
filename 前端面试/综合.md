## 目录

1. 你工作中遇到最难的问题是什么
2. 在工作中，你对团队最大的共享是什么
3. 两个页面怎么进行交互
4. 讲下前端开发中的热更新原理


#### 1、你工作中遇到最难的问题是什么？

首先我讲下，我最近做的一个项目吧！

我最近半年多一直在做一个项目是桌面客户端项目迭代，它是基于electron开发的。因为项目开发的时间比较久，一直在迭代。如果追溯到最开始的时候，应该算是4年前了。2020年之前，项目都是基于jquery+electron+Eui开发的。2020年后，项目使用了新的技术栈，基于react+umi+electron+rxd进行开发。如果说是开发新功能，那么都是基于react开发的，只要需求确定，原型设计都是确定的，有后端配合，业务开发是没有难度的。但是老项目上面改造一个新功能，起初我也觉得不难。后来我在改造中，我就遇到难题了。我遇到最大的问题是，没有后端配合，没有接口文档，没有需求文档。只有一个效果图，关键效果图还和原来的功能效果差距还很大。

于是，我去找产品，找开发要需求文档和接口文档。他们给我的答复是，都好多年了，我也不知道谁开发的，文档也没了。这样子，我就只能靠自己。如果直接开发，肯定会问题很大。我就照着原来的页面，开始点点点，理解原有的逻辑。点击的时候的报文，接口我记录下来，不一致的点，接口缺失的字段，或者没有的接口我都记录下来，然后整理了一份文档。发给了项目经理，产品经理，后端，把相关的人员都发了邮件确认。最后我再按照，我整理的需求，接口，先把可以做的功能开发。开发和领导确认同时进行，当我改造的差不多了，领导也安排好了配合的人员。

#### 2、在工作中，你对团队最大的贡献是什么？

主要分2方面：一方面是，积极学习新技术，这样子，在开发中遇到问题，遇到新的技术栈可以很快上手解决。还有一个是参与开发组件库。在之后的项目中，同事们用到了我开发的ui组件，成就感很大。还能避免重复造轮子，提升了团队效率。

#### 3、两个页面怎么进行交互？

这个问题分成单页面，多页面和iframe来写比较好。这三种都可以通过URL和浏览器存储来通讯，在iframe跨域的情况下可以使用postMessage，单页面就js层面状态管理，和组件间路由传参。

当然如果想玩的花，甚至可以服务端状态管理，靠http来通信。又比如ssr的话，部分状态也需要服务端来处理了。

1. 设置缓存，也就是A页面设置缓存，B页面取值
2. 通过url传参的方式
3. 通过路由的state模式传参
4. 通过发布订阅模式

#### 4、讲下前端开发中的热更新原理？

分析

1. 文件内容变更了，浏览器是怎么知道的呢？
2. css文件内容变更了，没有刷新页面 怎么加载最新的内容呢？

只要解决了上面两个问题，我们就算是完成了。因为剩下得就是编码了，这都好说。

文件变更了，我怎样通知浏览器？

1. 浏览器和服务器保持着连接。服务器有什么事儿直接通过当前的链接告诉浏览器就可以了。
    - 连接肯定是长连接，不然怎么实时通信。
    - 保持长连接有哪些方法呢？轮询？eventSorce？都不够好。
    - 有么有更好的方案呢？那就是：websocket。
    - 浏览器和服务器先建立好链接，服务器就可以直接通知到客户端了。这个时候无论是pc上还是手机上都可以随时根据需要刷新或者加载资源。
2. css更新，css本身是可以通过dom去操作的。浏览器只要知道是css更新了，直接重新加载当前的css文件就可以了。